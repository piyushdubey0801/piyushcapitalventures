<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Piyush Capital Ventures - Live Market</title>
  <style>
    body { font-family: Arial; margin:0; padding:0; background:#f4f4f9; color:#333; }
    header { background: #2c3e50; color:white; padding:20px; text-align:center; }
    header h1 { margin:0; font-size:2.5rem; }
    .container { width:90%; max-width:1200px; margin:20px auto; }
    .search-box { display:flex; justify-content:center; margin-bottom:20px; }
    .search-box input { padding:10px; width:60%; border-radius:5px; border:1px solid #2c3e50; font-size:16px; }
    .search-box button { padding:10px 15px; background:#2c3e50; color:white; border:none; border-radius:5px; cursor:pointer; }
    .stock-info, .indices, .trending { display:flex; flex-wrap:wrap; justify-content:space-around; margin-top:20px; }
    .card { background:white; padding:15px; margin:10px; flex:1 1 200px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); text-align:center; }
    footer { background:#2c3e50; color:white; text-align:center; padding:10px; margin-top:20px; }
    form { background:white; padding:20px; border-radius:8px; margin-top:20px; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
    form input, form textarea { width:100%; padding:10px; margin-top:5px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px; }
    form button { background:#28a745; color:white; padding:12px; border:none; border-radius:5px; cursor:pointer; font-size:16px; }
  </style>
</head>
<body>

<header>
  <h1>ðŸ“ˆ Piyush Capital Ventures</h1>
  <p>Live Market Data | Stocks | Indices | Mutual Funds</p>
  <p>Contact: +91 8718930974 | Email: Piyushdubey8109@gmail.com</p>
</header>

<div class="container">
  <div class="search-box">
    <input type="text" id="stock-symbol" placeholder="Enter stock name e.g. Tata Steel">
    <button onclick="searchStock()">Search</button>
  </div>

  <div class="stock-info" id="stock-data">
    <!-- Live Stock Data will appear here -->
  </div>

  <div class="indices" id="indices-data">
    <!-- Nifty, Sensex, Bank Nifty -->
  </div>

  <h2>Trending Stocks</h2>
  <div class="trending" id="trending-data">
    <!-- Trending Stocks -->
  </div>

  <h2>Contact Me</h2>
  <form action="https://formspree.io/f/yourFormID" method="POST">
    <input type="text" name="name" placeholder="Your Name" required>
    <input type="email" name="email" placeholder="Your Email" required>
    <textarea name="message" rows="4" placeholder="Message" required></textarea>
    <button type="submit">Send Message</button>
  </form>
</div>

<footer>
  &copy; 2025 Piyush Capital Ventures | All Rights Reserved
</footer>

<script>
const apiKey = "YOUR_TOKEN"; // <-- Replace with your IndianAPI.in API key

// Fetch Stock by Name
function searchStock(){
  const name = document.getElementById("stock-symbol").value;
  if(!name){ alert("Enter stock name"); return; }

  fetch(`https://stock.indianapi.in/stock?name=${encodeURIComponent(name)}`, {
    headers: { "X-Api-Key": apiKey }
  })
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById("stock-data");
    container.innerHTML = "";
    if(data && data.data){
      const stock = data.data[0];
      container.innerHTML = `
        <div class="card">
          <h3>${stock.name} (${stock.symbol})</h3>
          <p>Price: â‚¹${stock.price}</p>
          <p>Open: â‚¹${stock.open_price}</p>
          <p>High: â‚¹${stock.day_high}</p>
          <p>Low: â‚¹${stock.day_low}</p>
          <p>Previous Close: â‚¹${stock.prev_close}</p>
        </div>
      `;
    } else { container.innerHTML = "<p>No stock data found</p>"; }
  })
  .catch(err => console.error(err));
}

// Fetch Trending Stocks
fetch("https://stock.indianapi.in/trending", { headers: { "X-Api-Key": apiKey } })
.then(res => res.json())
.then(data => {
  const container = document.getElementById("trending-data");
  if(data && data.data){
    container.innerHTML = data.data.map(stock=>`
      <div class="card">
        <h4>${stock.name}</h4>
        <p>Price: â‚¹${stock.price}</p>
      </div>
    `).join("");
  }
})
.catch(err => console.error(err));

// Fetch Major Indices (Example: NSE)
fetch("https://stock.indianapi.in/NSE_most_active", { headers: { "X-Api-Key": apiKey } })
.then(res => res.json())
.then(data => {
  const container = document.getElementById("indices-data");
  if(data && data.data){
    container.innerHTML = data.data.slice(0,3).map(index=>`
      <div class="card">
        <h3>${index.symbol}</h3>
        <p>Price: â‚¹${index.price}</p>
      </div>
    `).join("");
  }
})
.catch(err => console.error(err));
</script>

</body>
</html>
