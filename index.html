<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Piyush Capital Ventures â€“ Live Market</title>
  <style>
    body{font-family:sans-serif;margin:0;background:#f4f7fb;color:#0b2545;}
    header{background:linear-gradient(90deg,#0b63d1,#00a4ff);padding:20px;text-align:center;color:#fff;font-size:1.6rem;}
    .ticker{background:#111;color:#fff;overflow:hidden;white-space:nowrap;padding:10px;}
    .inner{display:inline-block;animation:scroll 25s linear infinite;}
    @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
    .chip{display:inline-block;margin-right:15px;font-size:1rem;}
    .wrap{max-width:1000px;margin:20px auto;padding:0 16px;}
    .contact, .footer{margin-top:30px;font-size:0.95rem;color:#555;text-align:center;}
    .contact a, .footer a{color:#0b63d1;text-decoration:none;}
  </style>
</head>
<body>
  <header>ðŸ“ˆ Piyush Capital Ventures</header>
  <div class="ticker"><div class="inner" id="tickerInner">Loading live indicesâ€¦</div></div>
  <div class="wrap">
    <div class="contact">
      Call: <a href="tel:+91818930974">+91 818930974</a> |
      Email: <a href="mailto:Piyushdubey8109@gmail.com">Piyushdubey8109@gmail.com</a>
    </div>
    <div class="footer">
      Live data powered by <a href="https://indianapi.in" target="_blank" rel="noopener">IndianAPI.in</a> â€¢ Secure via serverless proxy
    </div>
  </div>

<script>
  const proxyUrl = '/api/indices'; // For Vercel
  // For Netlify: const proxyUrl = '/.netlify/functions/indices';

  async function updateTicker(){
    try {
      const res = await fetch(proxyUrl);
      const json = await res.json();
      const parts = json.indices.map(i => `${i.name}: â‚¹${i.price}`).join('  â€¢  ');
      document.getElementById('tickerInner').innerText = parts + '     ' + parts;
    } catch(err){
      console.error(err);
      document.getElementById('tickerInner').innerText = 'Live data unavailable';
    }
  }
  updateTicker();
  setInterval(updateTicker, 10000);
</script>
</body>
</html>
